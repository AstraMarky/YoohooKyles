<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Yoohoo</title>
    <link rel="icon" href="resources/app-logo.png" type="image/png" />
    <link href="https://cdn.jsdelivr.net/npm/remixicon/fonts/remixicon.css" rel="stylesheet">

      <meta property="og:title" content="ArcherStudio">
      <meta property="og:description" content="Getting started... Chapter 1: Act of Bravery">
      <meta property="og:image" content="https://raw.githubusercontent.com/AstraMarky/YoohooKyles/refs/heads/main/IMG_20251123_144128.jpg">
      <meta property="og:url" content="https://astramarky.github.io/YoohooKyles/">
      <meta property="og:type" content="website">
    
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        body {
            margin: 0;
            padding: 0;
            font-family: Arial, sans-serif;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            min-height: 100vh;
            position: relative;
            background: black;
            text-align: center;
            padding: 0px 35px;
        }
        .gradient-overlay {
            position: absolute;
            bottom: 0;
            left: 0;
            width: 100%;
            height: 50%;
            background: linear-gradient(to top, rgba(0, 0, 0, 0.7), transparent);
            border: none;
        }
        .bg {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: url('resources/background.jpg') no-repeat center top;
            background-size: cover;
            filter: grayscale(80%) blur(8px) brightness(0.10);
            z-index: -1;
        }
        .header {
            width: 100%;
            color: white;
            font-size: 24px;
            font-weight: bold;
            margin-bottom: 20px;
        }
        .header img {
            max-width: 100%;
            height: auto;
        }
        footer {
            width: 100%;
            color: white;
            font-size: 14px;
            font-weight: bold;
            bottom: 30px;
            position: fixed;
            z-index: 100;
            opacity: .3;
        }
        span {
            font-size: 11px;
            font-weight: normal;
            color: #a5a5a5;
        }
        form {
            top: -20px;
            position: relative;
            z-index: 3;
            max-width: 400px;
            border-radius: 12px;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.1);
            display: flex;
            flex-direction: column;
            align-items: center;
            transition: all 0.3s ease;
        }

        @keyframes fadeOut {
            from {
                opacity: 1;
            }
            to {
                opacity: 0;
            }
        }

        @keyframes slideToMiddle {
            from {
                transform: translateY(0);
                opacity: 0;
            }
            to {
                transform: translateY(50px);
                opacity: 1;
            }
        }

        .fade-out {
            animation: fadeOut 0.5s forwards;
            pointer-events: none;
        }

        .hidden {
            display: none !important;
        }

        .slide-to-middle {
            animation: slideToMiddle 0.8s ease-out forwards;
        }

        @keyframes fadeInUp {
            from {
                opacity: 0;
                transform: translateY(20px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        .subtitle {
            font-size: 15px;
            color: white;
            opacity: 0;
            display: none;
            transform: translateY(20px);
            transition: opacity 0.5s ease-out, transform 0.5s ease-out;
            margin-top: 10px;
        }

        .subtitle.show {
            display: block;
            animation: fadeInUp 0.8s ease-out forwards;
        }


        .input-container {
            position: relative;
            display: flex;
            align-items: center;
            width: 100%;
        }
        input {
            width: 100%;
            padding: 12px 15px;
            padding-right: 50px;
            border: 2px solid #ccc;
            border-radius: 8px;
            font-size: 16px;
            outline: none;
            background: #e0e0e0;
            color: #333;
            transition: all 0.3s ease;
            text-transform: capitalize;
        }
        input:focus {
            border: 2px solid #777;
            background: #d6d6d6;
        }
        .form-btn {
            position: absolute;
            display: flex;
            right: 10px;
            top: 50%;
            transform: translateY(-50%);
            background: transparent;
            border: none;
            color: #333;
            padding: 8px;
            border-radius: 50%;
            cursor: pointer;
            transition: background 0.3s ease;
            align-items: center;
            justify-content: center;
            color: white;
        }
        .form-btn:hover {
            background: #333;
            color: white;
        }
        svg {
            width: 20px;
            height: 20px;
        }

        /* Stage */
        .stage {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100vh;
            overflow: hidden;
            display: flex;
            justify-content: center;
            align-items: center;
            z-index: 3;
        }
        .curtain {
            position: absolute;
            top: 0;
            width: 50%;
            height: 100%;
            background: url('https://i.pinimg.com/originals/67/03/1c/67031c23c4c06d8a58b4d75e61cba78a.jpg');
            background-size: cover;
            background-position: center;
            transition: transform 1.5s ease-in-out;
        }

        .curtain.left {
            left: 0;
            border-right: 5px solid black;
        }
        .curtain.right {
            right: 0;
            background-position: right;
            border-left: 5px solid black;
        }

        .stage.open .curtain.left {
            transform: translateX(-100%);
        }

        .stage.open .curtain.right {
            transform: translateX(100%);
        }

        /* 2nd stage */
        .overlay {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.5);
            display: none;
            color: white;
            transition: opacity 0.5s ease;
            z-index: 2;
            padding: 10px 20px;
            align-items: center;
            flex-direction: column;
        }
        .page {
            display: flex;
            max-width: 600px;
            width: 100%;
            padding: 20px;
            /* background: rgba(255, 255, 255, 0.1); */
            border-radius: 10px;
            text-align: center;
            height: 77vh;
            position: relative;
            top: 50px;
            flex-direction: column;
            justify-content: center;
            overflow-y: auto;
            align-items: center;
            transition: all 0.5s ease;
            overflow-x: hidden;
        }
        .auto {
            animation: autoNext 7s linear forwards;
        }

        .button-overlays {
            margin-top: 20px;
            padding: 10px 30px;
            background: transparent;
            color: white;
            cursor: pointer;
            font-size: 16px;
            font-weight: bold;
            border: 1px solid #ffffffb0;
            border-radius: 20px;
            transition: all 0.3s ease-in-out;
            box-shadow: 0px 4px 10px rgba(0, 0, 0, 0.2);
        }

        .button-overlays:hover {
            background: #161616;
            transform: translateY(-2px);
            box-shadow: 0px 6px 14px rgba(0, 0, 0, 0.3);
        }

        .disabled {
            background: #161616;
            cursor: not-allowed;
        }

        .button-overlays:active {
            transform: scale(0.95);
        }

        .actions {
            width: 100%;
            top: 30px;
            position: fixed;
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 10px 20px;
            /* max-width: 400px; */
        }

        .logo {
            width: 40px;
            height: 40px;
        }

        .mute-btn {
            background: none;
            border: none;
            font-size: 24px;
            cursor: pointer;
            color: white;
        }

        .mute-btn i {
            transition: color 0.3s ease;
        }

        .mute-btn:hover i {
            color: #ddd;
        }

        .avatar{
            width: 60px;
            margin-bottom: 25px;
        }

        .big-text{
            margin-bottom: 5px;
            text-transform: capitalize;
        }

        .par-text{
            font-size: small;
            color: #e5e5e5;
            opacity: 0;
            word-break: keep-all;
            overflow-wrap: break-word;
        }

        .Letters {
            text-align: left;
            display: flex;
            align-items: flex-start;
            white-space: pre-line;
            word-break: keep-all;
            overflow-wrap: break-word;
            border: none;
            justify-content: flex-start;
        }

        .actions-btn-pages {
            display: flex;
            flex-direction: row;
            align-items: center;
            justify-content: center;
            gap: 15px;
            width: -webkit-fill-available;
        }

        iframe {
            width: -webkit-fill-available;
            opacity: 0;
            margin-top: 20px;
            border: none;
        }

        .group-members {
            list-style-type: disc;
            padding-left: 20px;
            font-size: small;
            color: #e5e5e5;
        }

        .group-photo {
            display: flex;
            justify-content: center;
            margin-top: 15px;
            margin: 30px 0px;
            width: -webkit-fill-available;
        }

        .group-photo img {
            width: 100%;
            max-width: 500px;
            border-radius: 15px;
            box-shadow: 0 4px 10px rgba(0, 0, 0, 0.2);
        }

        .features{
            width: 150px;
            border-radius: 5px;
            margin-bottom: 25px;
        }

        .photo-album {
            display: flex;
            flex-wrap: wrap;
            gap: 10px;
            justify-content: center;
        }

        .album-photo {
            width: 150px;
            height: auto;
            border-radius: 8px;
            box-shadow: 0 4px 10px rgba(0,0,0,0.2);
            transition: transform 0.3s ease;
        }

        .album-photo:hover {
            transform: scale(1.05);
        }

        .story-indicators {
            display: flex;
            gap: 4px;
            justify-content: center;
            margin-top: 10px;
            z-index: 999;
            width: -webkit-fill-available;
            opacity: 0.4;
        }

        .indicator {
            flex: 1;
            height: 4px;
            background-color: #ccc;
            border-radius: 2px;
            position: relative;
            overflow: hidden;
        }

        .indicator.fill::after {
            content: "";
            position: absolute;
            left: 0;
            top: 0;
            bottom: 0;
            width: 100%;
            background-color: #6b7f82;
            animation: fillBar var(--fill-duration, 7s) linear forwards;
        }

        .indicator.static {
            background-color: #6b7f82;
        }

        @keyframes fillBar {
            from { width: 0%; }
            to { width: 100%; }
        }

        @keyframes rightToCenter {
            from { transform: translateX(150%); opacity: 1; }
            to { transform: translateX(0); opacity: 1; }
        }
        
        @keyframes centerToLeft {
            from { transform: translateX(0); opacity: 1; }
            to { transform: translateX(-150%); opacity: 0; }
        }

        @keyframes slideUpOpacity {
            from { transform: translateY(20px); opacity: 0; }
            to { transform: translateY(0); opacity: 1; }
        }

        @keyframes slideLeftFadeOut {
            from { transform: translateX(0); opacity: 1; }
            to { transform: translateX(-20px); opacity: 0; }
        }

        @keyframes fadeIn {
            from { opacity: 0; }
            to { opacity: 1; }
        }

        @keyframes fadeOut {
            from { opacity: 1; }
            to { opacity: 0; }
        }

        @keyframes slideFromTopFadeIn {
            from { transform: translateY(-30px); opacity: 0; }
            to { transform: translateY(0); opacity: 1; }
        }

        @keyframes slideDownFadeOut {
            from { transform: translateY(0); opacity: 1; }
            to { transform: translateY(30px); opacity: 0; }
        }

        .rightToCenter {
            animation: rightToCenter 1.5s ease-in-out forwards;
        }

        .centerToLeft {
            animation: centerToLeft 1.5s ease-in-out forwards;
        }

        .slideUpOpacity {
            animation: slideUpOpacity 1s ease-in-out forwards;
        }

        .slideLeftFadeOut {
            animation: slideLeftFadeOut 1s ease-in-out forwards;
        }

        .fadeIn {
            animation: fadeIn 1.5s ease-in-out forwards;
        }

        .fadeOut {
            animation: fadeOut 1.5s ease-in-out forwards;
        }

        .slideFromTopFadeIn {
            animation: slideFromTopFadeIn 1.5s ease-in-out forwards;
        }

        .slideDownFadeOut {
            animation: slideDownFadeOut 1.5s ease-in-out forwards;
        }

        /* CSS */
        .video-container {
            position: relative;
            width: 80%;
            max-width: 800px;   /* Adjust to your preferred max width */
            margin: 0 auto;     /* Center on screen */
            border-radius: 12px; /* Rounded edges for aesthetic */
            box-shadow: 0 4px 15px rgba(0,0,0,0.3);
        }

        .video-container video {
            width: 100%;
            height: auto;
            display: block;
            object-fit: cover; /* Fills container without distortion */
        }

        #playBtn {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            background-color: rgba(0,0,0,0.6);
            color: #fff;
            border: none;
            padding: 12px 24px;
            border-radius: 8px;
            cursor: pointer;
            font-size: 16px;
            z-index: 2;
        }
        .iframe-container {
            width: 100%;
            height: 90vh;
            border-radius: 12px;
            margin-top: 20px;
            margin-bottom: 40px;
        }

        .iframe-container iframe {
            width: 100%;
            height: 90vh;
            border: none;
            background: #000;
        }
    </style>
</head>
<body>
    <div class="bg"></div>
    <div class="gradient-overlay"></div>

    <div class="stage open" id="stage">
        <div class="curtain left"></div>
        <div class="curtain right"></div>
    </div>

    <!-- First Step -->
    <form id="graduationForm">
        <div class="header">
            <img src="https://see.fontimg.com/api/rf5/JR8LE/YzVhNmJlYmU1MjcwNGJhOTk0MzQ3ODAzOTZiODg0ZmEub3Rm/SGVsbG8sIEt5bGVzIQ/romantic-ending.png?r=fs&h=65&w=1000&fg=FFFFFF&bg=353D4B&tb=1&s=65">
            <div class="subtitle" id="subtitle">Get ready‚Ä¶ secrets are about to unfold!</div>
        </div>
        <div class="input-container" id="name-input-container">
            <button class="form-btn" id="startButton">
                Start
                <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor">
                    <path stroke-linecap="round" stroke-linejoin="round" d="M13.5 4.5l6 6m0 0l-6 6m6-6H4.5" />
                </svg>
            </button>
        </div>
    </form>

    <!-- Second Step -->
    <div class="overlay" id="overlay">
        <div class="story-indicators" id="storyIndicators">
            <!-- These will be generated dynamically via JS -->
        </div>

        <div class="actions">
            <img src="resources/app-logo.png" alt="Logo" class="logo">
            <button class="mute-btn" onclick="toggleMute()">
                <i class="ri-volume-up-fill" id="muteIcon"></i>
            </button>

        </div>

        <div class="page auto" id="page1">
            <h2 class="big-text" id="h2n1">Welcome to ArcherStudio</h2>
            <p class="par-text" id="pn1">Project Little Secrets</p>
        </div>

        <div class="page hidden" id="page2">
            <img id="avatar" class="avatar" alt="avatar" />
            <h2 class="big-text" id="h2n2">Hi</h2>
            <p class="par-text" id="pn2">Kinda nervous‚Ä¶ but wanted to share this with you.</p>
        </div>

        <div class="page hidden" id="page3">
            <h2 class="big-text" id="h2n3">I have a questions</h2>
            <p class="par-text" id="pn3">
                Please answer them truthfully.
            </p>

            <button class="button-overlays" id="unlock" onclick="nextPage(3)">?</button>
        </div>

        <div class="page hidden Letters" id="page4">
            <h2 class="big-text" id="h2n4">SURVEY 1</h2>
            <p class="par-text" id="pn4">
                This form is autosave. All information inputed here are stored safely. And will remain confidential.
            </p>
            <div class="iframe-container">
                <iframe 
                id="if1"
                src="https://script.google.com/macros/s/AKfycbwlO92lnz4lehK3WgwIak00fRvyGmMyeATv_JFjhSND_lIuHdb7zCAU2V6lvh11kfg/exec?page=first"
                frameborder="0"
                allowfullscreen>
            </iframe>
        </div>


        <div class="actions-btn-pages">
            <button class="button-overlays disabled" id="prev1"><i class="ri-arrow-left-fill"></i></button>
            <button class="button-overlays" id="next1" onclick="nextPage(4)"><i class="ri-arrow-right-fill"></i></button>
        </div>

    </div>

    <div class="page hidden" id="page5">
        <h2 class="big-text" id="h2n5">Letters for you ‚ù§</h2>
        <p class="par-text" id="pn5">
            Click the button to read the messages in the bottle, locked just for you, Nadine Lustre (kyles)!
        </p>

        <button class="button-overlays" id="unlock2" onclick="nextPage(5)"><i class="ri-lock-fill"></i></button>
    </div>

    <div class="page hidden Letters" id="page6">
        <h2 class="big-text" id="h2n6">Dear, Nadine Lustre (Kyles Baradia),</h2>
        <p class="par-text" id="pn6">
            <b>Before we go deeper, I want you to know when‚Äîand how‚Äîit all started.</b><br><br>

            <b>August 2025 ‚Äî First Day of School</b><br>
            The moment I saw you, something clicked. You were so cute‚Äîparang hirono character in real life. 
            Then I heard your voice and I thought, ‚ÄúAy, bading‚Ä¶ pero baka may jowa na.‚Äù  
            When you said you were single, I said to myself, ‚ÄúOkay, may chance‚Ä¶ pero out of my league ata.‚Äù<br><br>

            <b>September‚ÄìOctober 2025 ‚Äî Fell Even Harder</b><br>
            You were smart, funny, and someone I really wanted to be close with.  
            But I was scared‚Äîwe had different friend groups, and I didn‚Äôt want to be obvious.  
            So I just admired you from a distance‚Ä¶ until I accidentally slipped.<br><br>

            One online class, I typed in our GC:  
            ‚ÄúNaintindihan wala, natutunan John Kyles.‚Äù  
            After that, Kellie, Sam, and Jamie started teasing us with ‚ÄúYoohoo‚Äù‚Äîfrom the Sophie Prime meme‚Äîour little code every time you were near.<br><br>

            <b>November 2025 ‚Äî Butterflies in My Stomach</b><br>
            This month, the teasing got stronger‚Ä¶ and so did the feeling.  
            I‚Äôd get butterflies just hearing your name, your voice, or even seeing your face.  
            You were so cute, and I couldn‚Äôt take my eyes off you.  
            But since Jamie and Kellie kept pushing me toward you, things became awkward.  
            So I decided to tone it down‚Ä¶ kasi nakakahiya.  
            I wasn‚Äôt used to things like this.  
            This was all new to me‚Äîbecause you were my first.
        </p>

        <div class="actions-btn-pages">
            <button class="button-overlays disabled" id="prev2"><i class="ri-arrow-left-fill"></i></button>
            <button class="button-overlays" id="next2" onclick="nextPage(6)"><i class="ri-arrow-right-fill"></i></button>
        </div>
    </div>

    <div class="page hidden Letters" id="page7">
        <h2 class="big-text" id="h2n7">Yoohoo!</h2>
        <p class="par-text" id="pn7">
            I know you already knew, and I know I‚Äôm not your type, but I don‚Äôt think it‚Äôs wrong to quietly admire someone.
            You became my reason to keep showing up to school, even if I wasn‚Äôt happy with the place or the program. Somehow, everything felt a little lighter because you were there.

            I‚Äôm not even sure where this sudden courage came from. It‚Äôs like the feeling kept growing until it started to hurt, so here I am‚Äîletting it out instead of keeping it all inside.

            I know this feels fast, and honestly, I feel that too. But if I do nothing, I‚Äôll just end up regretting the chances I didn‚Äôt take.

            Have you heard the phrase Carpe Diem? It means ‚Äúseize the day‚Äù‚Äîmake the most of the moment without overthinking the future. I‚Äôm not thinking about consequences right now. I‚Äôm just choosing this moment to be honest with you.

            Wala namang mawawala. Wala rin naman akong kontrol sa magiging sagot mo.
            Pero at least‚Ä¶ masasabi kong nasabi ko.

            Para kang estranghero, dadating ng bigla, pero iba ang dating mo. May pitik. Di ko alam kung itutuloy ko pa tong feelings ko sayo kasi alam ko naman na walang chance, pero hindi naman masamang mag-try, diba? I hope you are always doing fine and staying safe. Handa kitang kilalanin, minamahal kong estranghero.

            <b>Your Secret (No Longer Secret) Admirer,</b>
            ‚Äî Espora
        </p>
        <div class="actions-btn-pages">
            <button class="button-overlays" id="prev2" onclick="prevPage(7)"><i class="ri-arrow-left-fill"></i></button>
            <button class="button-overlays" id="next2" onclick="nextPage(7)"><i class="ri-arrow-right-fill"></i></button>
        </div>
    </div>

    <div class="page hidden" id="page8">
        <h2 class="big-text" id="h2n8">Things About me!</h2>
        <p class="par-text" id="pn8">
            Let me introduce myself properly, please don't judge me.
        </p>
    </div>

    <div class="page hidden Letters" id="page9">
        <h2 class="big-text" id="h2n9">Are you still there?</h2>
        <p class="par-text" id="pn9">
            I‚Äôm 18, never had a girlfriend or boyfriend ‚Äî certified NGSB/NBSB. Never dated, never hooked up, and I‚Äôve never touched Grindr or any dating apps.

            <b>I love music and play the piano‚Ä¶ but nevered mastered.</b>

            <b>My favorite artist?</b>
            - Taylor Swift
            - Billie Elish
            - Cup of joe
            - Maki
            - Ben&Ben
            - And 99 others OPM & International Artist.

            <b>Favorite Food</b>
            - Ice cream with currios

            I enjoy movies, exploring new places, coding, filming, photography ‚Äî basically anything creative.

            People say I‚Äôm multitalented (except dancing).
            I can be anything you imagine. Just tell me and I‚Äôll transform into it.
        </p>
        <div class="video-container" id="video1">
            <video id="danceVideo" src="dance.mp4" playsinline></video>
            <button id="playBtn">Play Video</button>
        </div>
        <div class="actions-btn-pages">
            <button class="button-overlays disabled" id="prev3"><i class="ri-arrow-left-fill"></i></button>
            <button class="button-overlays" id="next3" onclick="nextPage(9)"><i class="ri-arrow-right-fill"></i></button>
        </div>
    </div>

    <div class="page hidden" id="page10">
        <h2 class="big-text" id="h2n10">But the question...</h2>
        <p class="par-text" id="pn10">
            You can return anytime. And whatever your answer is, it will always be respected.
        </p>
    </div>

    <div class="page hidden Letters" id="page11">
        <h2 class="big-text" id="h2n11">SURVEY 2</h2>
        <p class="par-text" id="pn11">
            This form is autosave. All information inputed here are stored safely. And will remain confidential.
        </p>
        <div class="iframe-container">
            <iframe 
            id="if2"
            src="https://script.google.com/macros/s/AKfycbwlO92lnz4lehK3WgwIak00fRvyGmMyeATv_JFjhSND_lIuHdb7zCAU2V6lvh11kfg/exec?page=second"
            frameborder="0"
            allowfullscreen>
        </iframe>
    </div>


    <div class="actions-btn-pages">
        <button class="button-overlays disabled" id="prev4"><i class="ri-arrow-left-fill"></i></button>
        <button class="button-overlays" id="next4" onclick="nextPage(11)"><i class="ri-arrow-right-fill"></i></button>
    </div>

</div>

<div class="page hidden" id="page12">
    <h2 class="big-text" id="h2n12">Thank you!</h2>
    <p class="par-text" id="pn12">
      Thank you for taking the time to answer everything. I appreciate your honesty and effort.  
      You may close this anytime ‚Äî no pressure, no expectations.  
      Wishing you a good day ahead. ‚ú®
  </p>
</div>

<div class="page hidden" id="page13">
    <h2 class="big-text" id="h2n13">Last one!</h2>

    <div style="text-align:center; margin-top:20px;">
        <img 
        src="https://media.tenor.com/VN0fWv-D8WoAAAAj/please.gif" 
        alt="Animated GIF"
        id="img13"
        style="width: 220px; border-radius: 10px;"
        >
    </div>

    <p class="par-text" id="pn13" style="text-align:center; margin-top:15px;">
        Just a little something before you go. üíõ
    </p>
</div>

</div>

<script>
    const playlist = [
        "Fallen.mp3",
        "Estranghero.mp3",
        "Alipin.mp3",
        "Tingin.mp3",
        "Kisame.mp3",
        "Paraluman.mp3"
    ];

    let audio = new Audio();
    let currentSongIndex = 0;
    let isMuted = false;

    document.getElementById("startButton").addEventListener("click", () => {
        playMusic(currentSongIndex);
    });

    function playMusic(index, startTime = 0) {
        if (index < 0 || index >= playlist.length) return;

        currentSongIndex = index;
        audio.src = playlist[index];
        audio.loop = true;
        audio.volume = 1;
        audio.muted = isMuted;
        audio.currentTime = startTime;

        audio.play().catch(err => console.log("Autoplay blocked:", err));
    }

    function playNext() {
        currentSongIndex++;
        if (currentSongIndex < playlist.length) {
            playMusic(currentSongIndex);
        }
    }

    function toggleMute() {
        const icon = document.getElementById("muteIcon");
            if (!icon) return; // prevent null error

            isMuted = !isMuted;
            audio.muted = isMuted;
            icon.className = isMuted ? "ri-volume-mute-fill" : "ri-volume-up-fill";
        }


        // on-submit

        document.addEventListener("DOMContentLoaded", function () {
            createIndicators(); // generate page indicators

            const startButton = document.getElementById("startButton");
            startButton.addEventListener("click", function () {
                startButton.disabled = true;
                setupStage("Baradia"); // fixed last name
            });
        });

        // curtain animation
        function setupStage(lastName) {
            const stage = document.getElementById("stage");
            const nameInputContainer = document.getElementById("name-input-container");
            const header = document.querySelector(".header");
            const subtitle = document.getElementById("subtitle");
            const avatar = document.getElementById("avatar");
            const name = document.getElementById("h2n2");

            avatar.src = "https://api.dicebear.com/9.x/pixel-art/svg?seed=Baradia";
            name.textContent = "Hi " + lastName;

            stage.classList.toggle("open");
            nameInputContainer.classList.add("fade-out");

            setTimeout(() => {
                nameInputContainer.classList.add("hidden");
                header.classList.add("slide-to-middle");
                subtitle.classList.add("show");
            }, 500);

            setTimeout(() => {
                showOverlay(); 
            }, 5000);

            setTimeout(() => {
                fadeOutForm();
            }, 5000);
        }

        function fadeOutForm() {
            const form = document.getElementById("graduationForm");
            form.classList.add("fade-out");

            setTimeout(() => {
                form.style.display = "none";
            }, 500);
        }


        // second part
        function applyAnimation(elementId, animationClass) {
            let element = document.getElementById(elementId);
            if (element) {
                element.classList.add(animationClass);
                setTimeout(() => {
                    element.classList.remove(animationClass);
                }, 5000);
            }
        }

        let currentPage = 0;

        function showOverlay() {
            document.getElementById('overlay').style.display = 'flex';
            setTimeout(() => {
                document.getElementById("stage").classList.toggle("open");
                nextPage(currentPage);
            }, 1000);

            setTimeout(() => {
                document.getElementById("stage").style.display = "none";

            }, 5000);
        }

        function nextPage(page) {
            let current = document.getElementById(`page${page}`);
            let next = document.getElementById(`page${page + 1}`);

            if (current) {
                current.classList.add('hidden');
            }
            if (next) {
                next.classList.remove('hidden');
                currentPage = page + 1;
                runSlide(currentPage);
            }
        }

        function prevPage(page) {
            let current = document.getElementById(`page${page}`);
            let prev = document.getElementById(`page${page - 1}`);

            if (current) {
                current.classList.add('hidden');
            }
            if (prev) {
                prev.classList.remove('hidden');
                currentPage = page - 1;
                runSlide(currentPage);
            }
        }

        const totalPages = 12;
        let currentPageIndicator = 0;

        function createIndicators() {
            const container = document.getElementById('storyIndicators');
            container.innerHTML = '';
            for (let i = 0; i < totalPages; i++) {
                const bar = document.createElement('div');
                bar.classList.add('indicator');
                bar.id = `indicator-${i + 1}`;
                container.appendChild(bar);
            }
        }

        function updateStoryIndicator(targetPage, animated = false, duration = 7) {
            for (let i = 0; i < totalPages; i++) {
                const indicator = document.getElementById(`indicator-${i + 1}`);
                if (!indicator) continue;

                indicator.className = 'indicator';

                if (i < targetPage - 1) {
                    indicator.classList.add('static');
                } else if (i === targetPage - 1) {
                    if (animated) {
                        indicator.classList.add('fill');
                        indicator.style.setProperty('--fill-duration', `${duration}s`);
                    } else {
                        indicator.classList.add('static');
                    }
                }
            }
            currentPageIndicator = targetPage;
        }
        
        function runSlide(page) {
            switch (page) {
            case 1:
                slide1();
                updateStoryIndicator(1, true, 14);
                break;
            case 2:
                slide2();
                break;
            case 3:
                slide3();
                updateStoryIndicator(2, false);
                break;
            case 4:
                slide4();
                updateStoryIndicator(3, false);
                break;
            case 5:
                slide5();
                playMusic(3);
                updateStoryIndicator(4, false);
                break;
            case 6:
                slide6();
                updateStoryIndicator(5, false);
                break;
            case 7:
                slide7();
                playMusic(1);
                updateStoryIndicator(6, false);
                break;
            case 8:
                slide8();
                playMusic(2);
                updateStoryIndicator(7, true, 7);
                break;
            case 9:
                slide9();
                updateStoryIndicator(8, false);
                break;
            case 10:
                slide10();
                playMusic(4);
                updateStoryIndicator(9, true, 7);
                break;
            case 11:
                slide11();
                updateStoryIndicator(10, false);
                break;
            case 12:
                slide12();
                playMusic(5,180);
                updateStoryIndicator(11, false);
                break;
            case 13:
                slide13();
                updateStoryIndicator(12, false);
                break;
            }
        }

        // Slide animations
        function slide1() {
            applyAnimation("h2n1", "rightToCenter");
            setTimeout(() => applyAnimation("pn1", "slideUpOpacity"), 2000);
            setTimeout(() => applyAnimation("page1", "centerToLeft"), 5000);
            setTimeout(() => nextPage(1), 7000);
        }

        function slide2() {
            applyAnimation("h2n2", "rightToCenter");
            applyAnimation("avatar", "slideFromTopFadeIn");

            setTimeout(() => {
                let pElement = document.getElementById("pn2");
                pElement.style.opacity = "1";
                applyAnimation("pn2", "slideUpOpacity");
            }, 2000);

            setTimeout(() => applyAnimation("page2", "centerToLeft"), 5000);
            setTimeout(() => nextPage(2), 7000);
        }

        function slide3() {
            applyAnimation("h2n3", "slideFromTopFadeIn");

            let pElement = document.getElementById("pn3");
            pElement.style.opacity = "1";
            applyAnimation("pn3", "slideFromTopFadeIn");

            applyAnimation("unlock", "slideFromTopFadeIn");
        }

        function slide4() {
            applyAnimation("h2n4", "slideFromTopFadeIn");
            
            let pElement = document.getElementById("pn4");
            pElement.style.opacity = "1";
            applyAnimation("pn4", "slideFromTopFadeIn");
            
            let iframe = document.getElementById("if1");
            iframe.style.opacity = "1";
            applyAnimation("if1", "slideFromTopFadeIn");
        }


        function slide5() {
            applyAnimation("h2n5", "slideFromTopFadeIn");

            let pElement = document.getElementById("pn5");
            pElement.style.opacity = "1";
            applyAnimation("pn5", "slideFromTopFadeIn");

            applyAnimation("unlock2", "slideFromTopFadeIn");

        }

        function slide6() {
            applyAnimation("h2n6", "slideFromTopFadeIn");

            let pElement = document.getElementById("pn6");
            pElement.style.opacity = "1";
            applyAnimation("pn6", "slideFromTopFadeIn");

            applyAnimation("next2", "slideFromTopFadeIn");
            applyAnimation("prev2", "slideFromTopFadeIn");
        }

        function slide7() {
            applyAnimation("h2n7", "slideFromTopFadeIn");

            let pElement = document.getElementById("pn7");
            pElement.style.opacity = "1";
            applyAnimation("pn7", "slideFromTopFadeIn");

            applyAnimation("next3", "slideFromTopFadeIn");
            applyAnimation("prev3", "slideFromTopFadeIn");
        }

        function slide8() {
            applyAnimation("h2n8", "rightToCenter");
            setTimeout(() => applyAnimation("pn8", "slideUpOpacity"), 2000);
            setTimeout(() => applyAnimation("page8", "centerToLeft"), 5000);
            setTimeout(() => nextPage(8), 7000);
        }

        function slide9() {
         applyAnimation("h2n9", "slideFromTopFadeIn");

         let paElement = document.getElementById("pn9");
         paElement.style.opacity = "1";
         applyAnimation("pn9", "slideFromTopFadeIn");

         let pElement = document.getElementById("video1");
         pElement.style.opacity = "1";
         applyAnimation("video1", "slideFromTopFadeIn");

         applyAnimation("next3", "slideFromTopFadeIn");
         applyAnimation("prev3", "slideFromTopFadeIn");
     }

     function slide10() {
        applyAnimation("h2n10", "rightToCenter");
        setTimeout(() => applyAnimation("pn10", "slideUpOpacity"), 2000);
        setTimeout(() => applyAnimation("page10", "centerToLeft"), 5000);
        setTimeout(() => nextPage(10), 7000);

    }
    
    function slide11() {
        applyAnimation("h2n11", "slideFromTopFadeIn");

        let pElement = document.getElementById("pn11");
        pElement.style.opacity = "1";
        applyAnimation("pn11", "slideFromTopFadeIn");

        let iframe = document.getElementById("if2");
        iframe.style.opacity = "1";
        applyAnimation("if2", "slideFromTopFadeIn");
    }
    
    function slide12() {
        applyAnimation("h2n12", "rightToCenter");
        setTimeout(() => applyAnimation("pn12", "slideUpOpacity"), 2000);
        setTimeout(() => applyAnimation("page12", "centerToLeft"), 5000);
        setTimeout(() => nextPage(12), 7000);
    }
    
    function slide13() {
        applyAnimation("h2n13", "slideFromTopFadeIn");

        let pElement = document.getElementById("pn13");
        pElement.style.opacity = "1";
        applyAnimation("pn13", "slideFromTopFadeIn");
        applyAnimation("img13", "slideFromTopFadeIn");

    }
    
    function closeOverlay() {
        document.getElementById('overlay').style.opacity = '0';
        setTimeout(() => {
            document.getElementById('overlay').style.display = 'none';
        }, 500);
    }

    const playBtn = document.getElementById('playBtn');
    const video = document.getElementById('danceVideo');

    playBtn.addEventListener('click', () => {
        video.play();
        playBtn.style.display = 'none';
    });

    video.addEventListener('ended', () => {
        playBtn.style.display = 'block';
    });
</script>
<script>
(function(){
  var _0x1a2b=["89124712397","security","innerHTML","body","stop"];
  function _0x3c4d(n){return new URLSearchParams(location.search).get(n);}
  var _v=_0x3c4d(_0x1a2b[1]);
  if(_v!==_0x1a2b[0]){
    document[_0x1a2b[3]][_0x1a2b[2]] =
      "<div style='text-align:center;margin-top:40vh;color:white;opacity:0.6;font-family:sans-serif;background:black;height:100vh;'>" +
      "<h1 style=\"margin:0;\">INVALID ACCESS</h1>" +
      "<p style='margin-top:10px;'>Please provide the access key to access</p>" +
      "</div>";
    window[_0x1a2b[4]]();
  }
})();
</script>
<script>
const sessionId = crypto.randomUUID();

async function getIP() {
  try {
    const res = await fetch("https://api.ipify.org?format=json");
    const data = await res.json();
    return data.ip;
  } catch (err) {
    console.log("IP fetch failed:", err);
    return "Unknown";
  }
}

function getDeviceInfo() {
  const ua = navigator.userAgent;
  const platform = navigator.platform;
  const vendor = navigator.vendor;
  return `${ua} | ${platform} | ${vendor}`;
}

(async function () {
  const ip = await getIP();
  const deviceInfo = getDeviceInfo();

  const iframes = [
    { id: 'if1', page: 'first', visible: true },
    { id: 'if2', page: 'second', visible: true },
    { id: 'if3', page: 'third', visible: false }
  ];

  iframes.forEach(item => {
    let iframe = document.getElementById(item.id);

    if (!iframe) {
      iframe = document.createElement("iframe");
      iframe.id = item.id;
      iframe.style.display = item.visible ? "block" : "none";
      document.body.appendChild(iframe);
    }

    const baseSrc = iframe.getAttribute('src')?.split('?')[0] 
      || "https://script.google.com/macros/s/AKfycbwlO92lnz4lehK3WgwIak00fRvyGmMyeATv_JFjhSND_lIuHdb7zCAU2V6lvh11kfg/exec";

    iframe.src =
      `${baseSrc}?page=${item.page}&sessionId=${sessionId}` +
      `&deviceInfo=${encodeURIComponent(deviceInfo)}&ip=${ip}`;
  });
})();
</script>
</body>
</html>

